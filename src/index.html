<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" /> 
    <meta content="telephone=no" name="format-detection"/>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, viewport-fit=cover" name="viewport" />
    <title>日报填写系统</title> 
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="/logo.png">
    <script>
        (function(){var a=document.documentElement.clientWidth||document.body.clientWidth;if(a>460){a=460}else{if(a<320){a=320}}document.documentElement.style.fontSize=a/7.5+"px"})();
    </script>
</head> 
  <body>
    <script>
        window.supportWebp = false;
        if(document.createElement('canvas').toDataURL('image/webp').indexOf('data:image/webp') == 0){
          document.body.classList.add('webp');
          window.supportWebp = true;
        }  

        if ('serviceWorker' in navigator) {
            //如果浏览器支持 Service Worker API，在页面 onload 的时候注册位于 /sw.js 的 Service Worker。
            //启动一个线程很耗时，建议放到onload事件中 
            window.addEventListener('load', function () {
                navigator.serviceWorker.register('/sw.js', {scope: '/'})//scope 指定网域目录上所有事项的 fetch 事件
                    .then(function (registration) { // 注册成功
                        console.log('ServiceWorker registration successful with scope: ', registration.scope);
                    })
                    .catch(function (err) {  // 注册失败
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }
    </script>            
    <div id="app"></div>
  </body> 
</html>